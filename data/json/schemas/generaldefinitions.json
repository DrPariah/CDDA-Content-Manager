{
  "generalDefinitions": true,
  "comment": {
      "title": "Comment:",
      "type": "string",
      "format": "textarea",
      "default": ""
  },
  "yesno": {
      "default": "yes",
      "type": "string",
      "enum": [
          "yes",
          "no"
      ]
  },
  "techniques": {
      "title": "Techniques",
      "id": "/properties/techniques",
      "description": "Combat techniques used by this tool",
      "oneOf": [
          {
              "type": "array",
              "title": "List format",
              "format": "selectize",
              "uniqueItems": true,
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false,
                  "multiple": true
              },
              "items": {
                  "type": "string",
                  "filteredEnum": {
                      "display_key": "id",
                      "filter": { "jsonObject.type": { "$eq": "technique" } }
                  }
              }
          },
          {
              "type": "string",
              "title": "String format",
              "default": "SWEEP",
              "format": "text",
              "filteredEnum": {
                  "display_key": "id",
                  "filter": { "jsonObject.type": { "$eq": "technique" } }
              },
              "options": {
                  "hidden": false
              }
          }
      ]
  },
  "magazine_well": {
      "type": "integer",
      "id": "/properties/magazine_well",
      "title": "Magazine well",
      "default": 1,
      "description": "Volume above which the magazine starts to protrude from the item and add extra volume",
      "propertyOrder": 30
  },
  "min_skills": {
      "type": "array",
      "id": "/properties/min_skills",
      "title": "Min skills",
      "description": "Minimum skills",
      "format": "table",
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "items": {
          "type": "array",
          "id": "/properties/min_skills/oneof0",
          "default": [ "weapon", 4 ],
          "title": "Skill",
          "format": "tabs",
          "options": {
              "disable_collapse": true,
              "disable_array_add": true,
              "disable_array_delete": true,
              "disable_array_reorder": true,
              "disable_properties": true,
              "collapsed": false,
              "compact": true,
              "hidden": false
          },
          "items": [
              {
                  "type": "string",
                  "id": "/properties/min_skills/items/oneof0",
                  "default": "weapon",
                  "format": "text",
                  "filteredEnum": {
                      "display_key": "ident",
                      "filter": { "jsonObject.type": { "$eq": "skill" } }
                  },
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              },
              {
                  "type": "integer",
                  "id": "/properties/min_skills/items/oneof1",
                  "default": 4,
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              }
          ]
      },
      "propertyOrder": 90
  },
  "spoils_in": {
      "type": "string",
      "id": "/properties/spoils_in",
      "title": "Spoils In",
      "default": "6 days 16 hours",
      "format": "text",
      "description": "A time duration: how long a comestible is good for. 0 = no spoilage.",
      "options": {
          "hidden": false
      },
      "propertyOrder": 60
  },
  "power_draw": {
      "type": "integer",
      "id": "properties/power_draw",
      "title": "Power draw",
      "default": 25,
      "description": "Energy consumption rate in mW",
      "options": {
          "hidden": false
      }
  },
  "mod_targets": {
      "type": "array",
      "id": "/properties/mod_targets",
      "title": "mod_targets",
      "description": "Mandatory. What kind of weapons can this gunmod be used with?",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "string",
          "filteredEnum": {
              "display_key": "id",
              "filter": { "jsonObject.type": { "$eq": "GUN" } }
          },
          "enum": [ 
              "pistol",
              "smg",
              "bow",
              "rifle",
              "shotgun",
              "launcher", 
              "crossbow"
          ]
      },
      "propertyOrder": 60
  },
  "location": {
      "type": "string",
      "id": "/properties/location",
      "title": "Location",
      "default": "bore",
      "format": "text",
      "description": "Mandatory. Where is this gunmod is installed?",
      "options": {
          "hidden": false
      },
      "propertyOrder": 120
  },
  "quench": {
      "type": "integer",
      "id": "/properties/quench",
      "title": "Quench",
      "default": 3,
      "description": "Thirst quenched",
      "options": {
          "hidden": false
      },
      "propertyOrder": 90
  },
  "flags": {
      "type": "array",
      "id": "/definitions/flags",
      "title": "Flags",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "string"
      },
      "propertyOrder": 60
  },
  "integer_array": {
      "type": "array",
      "id": "/definitions/integer_array",
      "default": [ 0 ],
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "integer"
      }
  },
  "string_array": {
      "type": "array",
      "id": "/definitions/string_array",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "string"
      }
  },
  "object_array": {
      "type": "array",
      "id": "/definitions/object_array",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "object",
          "title": "Title of object",
          "options": {
              "disable_collapse": false,
              "disable_edit_json": false,
              "disable_properties": false,
              "collapsed": false,
              "hidden": false
          }
      }
  },
  "array_array": {
      "type": "array",
      "id": "/definitions/object_array",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "array",
          "options": {
              "disable_collapse": false,
              "disable_array_add": false,
              "disable_array_delete": false,
              "disable_array_reorder": true,
              "disable_properties": false,
              "collapsed": false,
              "hidden": false,
              "multiple": true
          }
      }
  },
  "category": {
      "default": "yes",
      "type": "string",
      "filteredEnum": {
          "display_key": "id",
          "filter": { "jsonObject.type": { "$eq": "ITEM_CATEGORY" } }
      },
      "enum": [
          "spare_parts",
          "container",
          "veh_parts",
          "drugs",
          "chems",
          "food",
          "maps",
          "fuel",
          "books",
          "armor",
          "clothing",
          "tools",
          "seeds",
          "guns",
          "other",
          "weapons"
      ]
  },
  "fun": {
      "type": "integer",
      "id": "/definitions/fun",
      "title": "Fun",
      "default": 3,
      "description": "Morale effects when used",
      "propertyOrder": 160
  },
  "vitamins": {
      "type": "array",
      "id": "/definitions/vitamins",
      "title": "Vitamins",
      "description": "The vitamins this item provides",
      "format": "table",
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "items": {
          "type": "array",
          "id": "/definitions/vitamins/oneof0",
          "default": [ "VitA", 20 ],
          "title": "Vitamin",
          "format": "tabs",
          "options": {
              "disable_collapse": true,
              "disable_array_add": true,
              "disable_array_delete": true,
              "disable_array_reorder": true,
              "disable_properties": true,
              "collapsed": false,
              "compact": true,
              "hidden": false
          },
          "items": [
              {
                  "type": "string",
                  "id": "/definitions/vitamins/items/oneof0",
                  "default": "VitA",
                  "format": "text",
                  "enum": [ "vitA", "vitB", "vitC", "calcium", "iron", "mutant_toxin" ],
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              },
              {
                  "type": "integer",
                  "id": "/definitions/vitamins/items/oneof1",
                  "default": 20,
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              }
          ]
      },
      "propertyOrder": 90
  },
  "abstract": {
      "type": "string",
      "id": "/definitions/abstract",
      "title": "Abstract",
      "default": "flamethrower_base",
      "format": "text",
      "description": "Creates an abstract item (an item that does not end up in the game and solely exists in the json to be copied-from. Use this instead of 'id'.",
      "options": {
          "hidden": false
      }
  },
  "id": {
      "type": "string",
      "id": "/definitions/id",
      "title": "Id",
      "default": "46mm",
      "format": "text",
      "description": "The ID of the entry",
      "options": {
          "hidden": false
      }
  },
  "type": {
      "type": "string",
      "id": "/definitions/type",
      "title": "Type",
      "format": "text",
      "readonly": true,
      "description": "The type should not be changed.",
      "options": {
          "hidden": false
      }
  },
  "name": {
    "title": "Name",
    "oneOf": [
        {
            "type": "string",
            "id": "/definitions/name",
            "title": "Old format",
            "default": "Name of entry",
            "format": "text",
            "description": "The name as it will appear in-game",
            "options": {
                "hidden": false
            }
        }, 
        {
            "type": "object",
            "id": "/definitions/name",
            "title": "New format",
            "format": "grid",
            "options": {
                "disable_collapse": false,
                "disable_edit_json": true,
                "disable_properties": false,
                "collapsed": false,
                "hidden": false
            },
            "defaultProperties": [
                "str"
            ],
            "properties": {
                "str": {
                    "type": "string",
                    "id": "/definitions/name/properties/str",
                    "title": "Name",
                    "default": "Name of entry",
                    "description": "The name as it will appear in game",
                    "options": {
                        "hidden": false
                    }
                },
                "str_pl": {
                    "type": "string",
                    "id": "/definitions/name/properties/str_pl",
                    "title": "Plural name",
                    "default": "Plural name of entry",
                    "description": "The name as it will appear in game",
                    "options": {
                        "hidden": false
                    }
                }
            }
        }
    ]
  },
  "description": {
      "type": "string",
      "id": "/definitions/description",
      "format": "xhtml",
      "options": {
        "ace": {
          "tabSize": 2,
          "useSoftTabs": true,
          "wrap": true,
          "autoExpand": true
        }
      },
      "title": "Description",
      "default": "4.6x30mm ammunition with 31gr copper plated steel bullets.  The 4.6x30mm round was developed by H&K to compete with FN Herstal's 5.7x28mm cartridge.  It has low recoil and excellent armor penetration.",
      "description": "The description that will appear in-game"
  },
  "weight": {
      "type": "string",
      "id": "/definitions/weight",
      "title": "Weight",
      "default": "5 g",
      "format": "text",
      "description": "The weight for the item",
      "options": {
          "hidden": false
      }
  },
  "volume": {
      "type": "string",
      "id": "/definitions/volume",
      "title": "Volume",
      "default": "250 ml",
      "format": "text",
      "description": "Volume in ml and L can be used - \"50 ml\" or \"2 L\". For stackable items (ammo, comestibles) this is the volume of stack_size charges.",
      "options": {
          "hidden": false
      }
  },
  "mode_modifier": {
      "type": "array",
      "id": "/definitions/mode_modifier",
      "title": "Mode modifier",
      "description": "The mode modifier this item provides",
      "format": "table",
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_array_delete_all_rows": true,
          "disable_array_delete_last_row": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "items": {
          "type": "array",
          "default": [ "DEFAULT", "auto", 14 ],
          "title": "Mode",
          "format": "grid",
          "options": {
              "disable_collapse": false,
              "disable_array_add": false,
              "disable_array_delete": false,
              "disable_array_reorder": true,
              "disable_array_delete_all_rows": true,
              "disable_array_delete_last_row": true,
              "collapsed": false,
              "compact": false,
              "hidden": false
          },
          "items": [
              {
                  "type": "string",
                  "default": "DEFAULT",
                  "format": "text",
                  "enum": [ "DEFAULT", "REACH", "AUTO" ],
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              },
              {
                  "type": "string",
                  "default": "auto",
                  "format": "text",
                  "enum": [ "auto", "bayonet" ],
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              },
              {
                  "type": "integer",
                  "default": 1,
                  "options": {
                    "hidden": false,
                    "inputAttributes": {
                      "style": "width: 60px"
                    },
                    "compact": true
                  }
              },
              {
                  "type": "array",
                  "format": "selectize",
                  "uniqueItems": true,
                  "options": {
                      "disable_collapse": false,
                      "disable_array_add": false,
                      "disable_array_delete": false,
                      "disable_array_reorder": true,
                      "disable_properties": false,
                      "collapsed": false,
                      "hidden": false,
                      "multiple": true,
                      "compact": true
                  },
                  "items": {
                      "type": "string",
                      "enum": [ "MELEE", "REACH_ATTACK" ]
                  }
              }
          ]
      },
      "propertyOrder": 90
  },
  "price": {
      "type": "number",
      "id": "/definitions/price",
      "title": "Price",
      "default": 300,
      "description": "The price from before the cataclysm",
      "options": {
          "hidden": false
      }
  },
  "ammo_effects": {
      "type": "array",
      "id": "/definitions/ammo_effects",
      "title": "Ammo effects",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "string",
          "enum": [ 
              "EMP",
              "LIGHTNING",
              "NO_DAMAGE_SCALING",
              "EXPLOSIVE_SMALL",
              "BOUNCE",
              "FLAME",
              "PLASMA",
              "RECOVER_10",
              "INCENDIARY",
              "TRAIL",
              "LASER",
              "DRAW_LASER_BEAM",
              "DRAW_AS_LINE",
              "BEANBAG",
              "JET",
              "WIDE",
              "NEVER_MISFIRES",
              "SHOT",
              "FLARE",
              "BLINDS_EYES"
          ]
      },
      "propertyOrder": 60
  },
  "price_postapoc": {
      "type": "number",
      "id": "/definitions/price_postapoc",
      "title": "Price Postapoc",
      "default": 5200,
      "description": "The price after the cataclysm",
      "options": {
          "hidden": false
      }
  },
  "fuel": {
      "type": "object",
      "id": "/definitions/fuel",
      "title": "Fuel",
      "options": {
          "disable_collapse": false,
          "disable_edit_json": false,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "defaultProperties": [
          "energy",
          "explosion_data"
      ],
      "properties": {
          "energy": {
              "type": "number",
              "id": "/definitions/fuel/properties/energy",
              "title": "Energy",
              "default": 15.6,
              "description": "battery charges per mL of fuel. batteries have energy 1. is also MJ/L from https://en.wikipedia.org/wiki/Energy_density. assumes stacksize 250 per volume 1 (250mL). Multiply by 250 / stacksize * volume for other stack sizes and volumes.",
              "options": {
                  "hidden": false
              }
          },
          "pump_terrain": {
              "type": "string",
              "id": "/properties/pump_terrain",
              "title": "Pump terrain",
              "default": "t_gas_pump",
              "format": "text",
              "description": "optional. terrain id for the fuel's pump, if any."
          },
          "explosion_data": {
              "type": "object",
              "id": "/definitions/fuel/properties/explosion_data",
              "title": "Explosion Data",
              "options": {
                  "disable_collapse": false,
                  "disable_edit_json": false,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false
              },
              "defaultProperties": [
                  "chance_hot",
                  "chance_cold",
                  "factor",
                  "fiery",
                  "size_factor"
              ],
              "properties": {
                  "chance_hot": {
                      "type": "integer",
                      "id": "/definitions/fuel/properties/explosion_data/properties/chance_hot",
                      "title": "Chance Hot",
                      "default": 5,
                      "description": "1 in chance_hot of explosion when attacked by HEAT weapons",
                      "options": {
                          "hidden": false
                      }
                  },
                  "chance_cold": {
                      "type": "integer",
                      "id": "/definitions/fuel/properties/explosion_data/properties/chance_cold",
                      "title": "Chance Cold",
                      "default": 10,
                      "description": "1 in chance_cold of explosion when attacked by other weapons",
                      "options": {
                          "hidden": false
                      }
                  },
                  "factor": {
                      "type": "number",
                      "id": "/definitions/fuel/properties/explosion_data/properties/factor",
                      "title": "Factor",
                      "default": 0.2,
                      "description": "explosion factor - larger numbers create more powerful explosions",
                      "options": {
                          "hidden": false
                      }
                  },
                  "fiery": {
                      "type": "boolean",
                      "id": "/definitions/fuel/properties/explosion_data/properties/fiery",
                      "title": "Fiery",
                      "format": "checkbox",
                      "default": true,
                      "description": "true for fiery explosions",
                      "options": {
                          "hidden": false
                      }
                  },
                  "size_factor": {
                      "type": "number",
                      "id": "/definitions/fuel/properties/explosion_data/properties/size_factor",
                      "title": "Size Factor",
                      "default": 0.1,
                      "description": "size factor - larger numbers make the remaining fuel increase explosion power more",
                      "options": {
                          "hidden": false
                      }
                  }
              }
          }
      }
  },
  "material": {
      "title": "Material",
      "id": "/definitions/material",
      "oneOf": [
          {
              "type": "string",
              "default": "steel",
              "format": "text",
              "title": "Single",
              "description": "The material",
              "enum": [ "steel" ]
          },
          {
              "type": "array",
              "format": "selectize",
              "title": "Multiple",
              "uniqueItems": true,
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false
              },
              "items": {
                  "headerTemplate": "Material {{i1}}",
                  "type": "string",
                  "title": "Material",
                  "default": "steel",
                  "format": "text",
                  "description": "The material of this entry",
                  "enum": [ "steel" ]
              }
          }
      ]
  },
  "symbol": {
      "type": "string",
      "id": "/definitions/symbol",
      "title": "Symbol",
      "default": "=",
      "format": "text",
      "description": "The symbol the entry will have when there is not sprite for it."
  },
  "color": {
      "type": "string",
      "id": "/definitions/color",
      "title": "Color",
      "default": "dark_gray",
      "format": "text",
      "description": "The color the symbol will have when the sprite is missing. Color representing monster in-game. The color must be a valid color id",
      "options": {
          "hidden": false
      }
  },
  "count": {
      "type": "integer",
      "id": "/definitions/count",
      "title": "Count",
      "default": 40,
      "description": "The default spawn stack",
      "options": {
          "hidden": false
      }
  },
  "to_hit": {
      "type": "integer",
      "id": "/properties/to_hit",
      "title": "To Hit",
      "default": 1,
      "description": "To hit damage",
      "options": {
          "hidden": false
      }
  },
  "bashing": {
      "type": "integer",
      "id": "/definitions/bashing",
      "title": "Bashing",
      "default": 1,
      "description": "Amount of bashing damage",
      "options": {
          "hidden": false
      }
  },
  "cutting": {
      "type": "integer",
      "id": "/properties/cutting",
      "title": "Cutting damage",
      "default": 6,
      "description": "Amount of cutting damage.",
      "options": {
          "hidden": false
      }
  },
  "damage_type": {
      "type": "string",
      "id": "/definitions/damage_type",
      "title": "Damage type",
      "default": "cut",
      "format": "text",
      "description": "The damage type.",
      "enum": [ "cold", "fire", "electric", "cut", "stab", "bash", "none" ],
      "options": {
          "hidden": false
      }
  },
  "stack_size": {
      "type": "integer",
      "id": "/definitions/stack_size",
      "title": "Stack Size",
      "default": 80,
      "description": "The default stack size",
      "options": {
          "hidden": false
      }
  },
  "loudness": {
      "type": "number",
      "id": "/properties/proportional/properties/loudness",
      "title": "Loudness",
      "default": 0.46,
      "description": "The amount of noise",
      "options": {
          "hidden": false
      }
  },
  "dispersion": {
      "type": "integer",
      "id": "/definitions/dispersion",
      "title": "Dispersion",
      "default": 40,
      "description": "Inaccuracy, measured in quarter-degrees",
      "options": {
          "hidden": false
      }
  },
  "ammo_type": {
      "type": "string",
      "id": "/definitions/ammo_type",
      "title": "Ammo Type",
      "default": "46",
      "format": "text",
      "description": "The type of ammo",
      "filteredEnum": {
          "display_key": "id",
          "filter": { "jsonObject.type": { "$eq": "ammunition_type" } }
      }
  },
  "storage": {
      "type": "string",
      "id": "/properties/storage",
      "title": "storage",
      "default": "sheath",
      "format": "text",
      "description": "(Optional, default = 0) How many volume storage slots it adds",
      "options": {
          "hidden": false
      },
      "propertyOrder": 110
  },
  "armor_data": {
      "type": "object",
      "id": "/definitions/armor_data",
      "title": "Armor data",
      "default": { "covers": [ "ARM_EITHER", "HAND_EITHER" ], "coverage": 5, "encumbrance": 100, "storage": "15 L", "material_thickness": 1 },
      "options": {
          "disable_collapse": false,
          "disable_edit_json": false,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "defaultProperties": [
          "covers",
          "coverage"
      ],
      "properties": {
          "covers": {
            "$ref": "#/definitions/covers", 
            "propertyOrder": 13
          },
          "coverage": {
            "$ref": "#/definitions/coverage", 
            "propertyOrder": 13
          },
          "material_thickness": {
            "$ref": "#/definitions/material_thickness", 
            "propertyOrder": 13
          },
          "encumbrance": {
            "$ref": "#/definitions/encumbrance", 
            "propertyOrder": 13
          },
          "storage": {
            "$ref": "#/definitions/storage", 
            "propertyOrder": 13
          }
      },
      "propertyOrder": 150
  },
  "explosion": {
      "type": "object",
      "id": "/definitions/explosion",
      "title": "Explosion",
      "description": "Physical explosion data",
      "options": {
          "disable_collapse": false,
          "disable_edit_json": false,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "defaultProperties": [
          "power",
          "shrapnel"
      ],
      "properties": {
          "power": {
              "type": "integer",
              "id": "/definitions/explosion/properties/power",
              "title": "Power",
              "default": 25000,
              "description": "Measure of explosion power in grams of TNT equivalent explosive, affects damage and range.",
              "options": {
                  "hidden": false
              },
              "propertyOrder": 10
          },
          "distance_factor": {
              "type": "number",
              "id": "/definitions/distance_factor",
              "title": "Distance factor",
              "default": 0.9,
              "description": "How much power is retained per traveled tile of explosion. Must be lower than 1 and higher than 0.",
              "options": {
                  "hidden": false
              }
          },
          "shrapnel": {
              "title": "Shrapnel",
              "oneOf": [
                  {
                      "type": "object",
                      "title": "Object format",
                      "format": "grid",
                      "options": {
                          "disable_collapse": false,
                          "disable_edit_json": true,
                          "disable_properties": false,
                          "collapsed": false,
                          "hidden": false
                      },
                      "defaultProperties": [
                          "casing_mass",
                          "fragment_mass"
                      ],
                      "properties": {
                          "casing_mass": {
                              "type": "integer",
                              "title": "Casing mass",
                              "default": 1597,
                              "description": "Total mass of casing, casing/power ratio determines fragment velocity."
                          },
                          "fragment_mass": {
                              "type": "number",
                              "title": "fragment mass",
                              "default": 1,
                              "description": "Mass of each fragment in grams. Large fragments hit harder, small fragments hit more often."
                          }
                      }
                  },
                  {
                      "type": "integer",
                      "title": "String format",
                      "default": 12600,
                      "description": "Total mass of casing, rest of fragmentation variables set to reasonable defaults."
                  }
              ]
          }
      }
  },
  "use_action_object": {
      "type": "object",
      "id": "/definitions/use_action",
      "title": "Use action",
      "options": {
          "disable_collapse": false,
          "disable_edit_json": false,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "defaultProperties": [
          "target",
          "msg",
          "target_charges",
          "active",
          "need_fire",
          "menu_text",
          "type"
      ],
      "properties": {
          "type": {
              "type": "string",
              "title": "Type",
              "default": "transform",
              "format": "text",
              "description": "The type of method",
              "filteredEnum": {
                  "display_key": "id",
                  "filter": { "jsonObject.type": { "$eq": "item_action" } }
              },
              "enum": [ "repair_item" ],
              "options": {
                  "hidden": false
              },
              "propertyOrder": 5
          },
          "target": {
              "type": "string",
              "title": "Target",
              "default": "tool_anfo_charge_act",
              "format": "text",
              "description": "The item to transform to.",
              "propertyOrder": 10
          },
          "item_action_type": {
              "type": "string",
              "title": "Item action type",
              "default": "repair_metal",
              "enum": [ "repair_metal", "repair_fabric" ],
              "format": "selectize",
              "description": "The item to transform to.",
              "propertyOrder": 10
          },
          "materials": {
              "includeDefinition": "string_array",
              "title": "Materials",
              "description": "The materials it is able to repair",
              "items": {
                  "type": "string",
                  "filteredEnum": {
                      "display_key": "ident",
                      "filter": { "jsonObject.type": { "$eq": "material" } }
                  }
              }
          },
          "msg": {
              "type": "string",
              "title": "Message",
              "default": "You light the fuse on the ANFO charge.  Run survivor, run!",
              "format": "xhtml",
              "options": { "ace": { "tabSize": 2, "useSoftTabs": true, "wrap": true, "autoExpand": true } },
              "description": "Message to display when activated.",
              "propertyOrder": 20
          },
          "holster_prompt": {
              "type": "string",
              "title": "Holster prompt",
              "default": "Stash grenades",
              "format": "text",
              "description": "Prompt to use when selecting an item",
              "propertyOrder": 20
          },
          "holster_msg": {
              "type": "string",
              "title": "Holster message",
              "default": "You stash your %s.",
              "format": "text",
              "description": "Message to show when holstering an item",
              "propertyOrder": 20
          },
          "skill": {
              "type": "string",
              "title": "Skill",
              "default": "fabrication",
              "format": "text",
              "description": "The skill used when repairing",
              "filteredEnum": {
                  "display_key": "ident",
                  "filter": { "jsonObject.type": { "$eq": "skill" } }
              },
              "propertyOrder": 20
          },
          "belt": {
              "type": "string",
              "title": "Belt",
              "default": "belt308",
              "format": "text",
              "description": "The ammobelt this use_action applies to. The item should have the 'linkage' property present or it won't appear in this list.",
              "filteredEnum": {
                  "display_key": "id",
                  "filter": { "jsonObject.linkage": { "$exists": true } }
              },
              "propertyOrder": 20
          },
          "need_worn": {
              "type": "boolean",
              "title": "Need worn",
              "format": "checkbox",
              "default": false,
              "description": "Whether the item needs to be worn to be transformed, is false by default."
          },
          "sound_msg": {
              "type": "string",
              "title": "Sound message",
              "default": "Tick.",
              "format": "text",
              "description": "Message describing sound the item makes every turn.",
              "propertyOrder": 20
          },
          "no_deactivate_msg": {
              "type": "string",
              "title": "No deactivate message",
              "default": "You've already pulled the %s's pin, try throwing it instead.",
              "format": "text",
              "description": "Message to display if the player tries to activate the item, prevents activation from succeeding if defined.",
              "propertyOrder": 20
          },
          "trap": {
              "type": "string",
              "title": "trap",
              "default": "tr_bubblewrap",
              "format": "text",
              "description": "The trap to place.",
              "filteredEnum": {
                  "display_key": "id",
                  "filter": { "jsonObject.type": { "$eq": "trap" } }
              },
              "propertyOrder": 20
          },
          "furn_type": {
              "type": "string",
              "title": "Furniture type",
              "default": "f_down_mattress",
              "format": "text",
              "description": "furniture type id the item should create",
              "filteredEnum": {
                  "display_key": "id",
                  "filter": { "jsonObject.type": { "$eq": "furniture" } }
              },
              "propertyOrder": 20
          },
          "max_volume": {
              "type": "string",
              "title": "Max volume",
              "default": "750 ml",
              "format": "text",
              "description": "Maximum volume of each item that can be holstered. Volume in ml and L can be used - \"50 ml\" or \"2 L\".",
              "propertyOrder": 20
          },
          "target_charges": {
              "type": "integer",
              "title": "Target Charges",
              "default": 100,
              "description": "Number of charges the transformed item has.",
              "propertyOrder": 30
          },
          "tool_quality": {
              "type": "integer",
              "title": "Tool quality",
              "default": 10,
              "description": "Extra value added to skill roll",
              "propertyOrder": 30
          },
          "draw_cost": {
              "type": "integer",
              "title": "Draw cost",
              "default": 1,
              "description": "Base move cost per unit volume when wielding the contained item",
              "propertyOrder": 30
          },
          "flags": {
              "type": "array",
              "title": "Flags",
              "format": "selectize",
              "uniqueItems": true,
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false,
                  "multiple": true
              },
              "items": {
                  "type": "string",
                  "enum": [ 
                      "GRENADE",
                      "SHEATH_KNIFE",
                      "SHEATH_SWORD"
                  ]
              },
              "propertyOrder": 60
          },
          "multi": {
              "type": "integer",
              "title": "Multi",
              "default": 1,
              "description": "Total number of items that holster can contain",
              "propertyOrder": 30
          },
          "sound_volume": {
              "type": "integer",
              "title": "Target Charges",
              "default": 100,
              "description": "Volume of a sound the item makes every turn.",
              "propertyOrder": 30
          },
          "need_charges": {
              "type": "integer",
              "title": "Need charges",
              "default": 1,
              "description": "Number of charges the item needs to transform.",
              "propertyOrder": 30
          },
          "need_charges_msg": {
              "type": "string",
              "title": "Need charges message",
              "default": "The lamp is empty.",
              "format": "text",
              "description": "Message to display if there aren't enough charges.",
              "propertyOrder": 20
          },
          "active": {
              "type": "boolean",
              "title": "Active",
              "format": "checkbox",
              "default": true,
              "description": "Whether the item is active once transformed.",
              "propertyOrder": 40
          },
          "explosion": {
            "includeDefinition": "explosion",
            "propertyOrder": 13
          },
          "allow_underwater": {
              "type": "boolean",
              "title": "Allow underwater",
              "format": "checkbox",
              "default": true,
              "description": "(optional) allow placing this when the player character is underwater",
              "propertyOrder": 40
          },
          "need_fire": {
              "type": "integer",
              "title": "Need Fire",
              "default": 1,
              "description": "Whether fire is needed to activate.",
              "propertyOrder": 50
          },
          "fun": {
              "type": "integer",
              "title": "Fun",
              "default": 1,
              "description": "Together with fun_bonus, this defines how much morale the character gets from playing the instrument. They get `fun + fun_bonus * <character-perception>` morale points out of it. Both values and the result may be negative.",
              "propertyOrder": 50
          },
          "fun_bonus": {
              "type": "integer",
              "title": "Fun bonus",
              "default": 1,
              "description": "Together with fun, this defines how much morale the character gets from playing the instrument. They get `fun + fun_bonus * <character-perception>` morale points out of it. Both values and the result may be negative.",
              "propertyOrder": 50
          },
          "speed_penalty": {
              "type": "integer",
              "title": "Speed penalty",
              "default": 1,
              "description": "This is subtracted from the characters speed.",
              "propertyOrder": 50
          },
          "description_frequency": {
              "type": "integer",
              "title": "Description frequency",
              "default": 1,
              "description": "Once every Nth turn, a randomly chosen description (from the that array) is displayed.",
              "propertyOrder": 50
          },
          "volume": {
              "type": "integer",
              "title": "Volume",
              "default": 1,
              "description": "Volume of the sound of the item.",
              "propertyOrder": 50
          },
          "move_cost": {
              "type": "integer",
              "title": "Move cost",
              "default": 250,
              "description": "Cost in moves to use the item.",
              "propertyOrder": 50
          },
          "cost_scaling": {
              "type": "number",
              "title": "Cost scaling",
              "default": 0.0,
              "description": "Volume of materials required (and used up) as percentage of repaired item's volume. Set to 0 to always use just 1 component.",
              "propertyOrder": 50
          },
          "disinfectant_power": {
              "type": "number",
              "title": "Disinfectant power",
              "default": 2.7,
              "description": "quality of disinfectant",
              "propertyOrder": 50
          },
          "bite": {
              "type": "number",
              "title": "Bite",
              "default": 0.75,
              "description": "Chance to remove bite effect.",
              "propertyOrder": 50
          },
          "menu_text": {
              "type": "string",
              "title": "Menu Text",
              "default": "Light fuse",
              "format": "text",
              "description": "Text describing the action to the user",
              "propertyOrder": 60
          },
          "activation_message": {
              "type": "string",
              "title": "Activation message",
              "default": "You smoke your crack rocks.  Mother would be proud.",
              "format": "text",
              "description": "The message when the item is used",
              "propertyOrder": 220
          },
          "effects": {
              "type": "array",
              "id": "/definitions/effects",
              "title": "effects",
              "format": "selectize",
              "uniqueItems": true,
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false
              },
              "items": {
                  "type": "object",
                  "title": "Effect",
                  "options": {
                      "disable_collapse": false,
                      "disable_edit_json": false,
                      "disable_properties": false,
                      "collapsed": false,
                      "hidden": false,
                      "compact": true
                  },
                  "defaultProperties": [
                      "id",
                      "duration"
                  ],
                  "properties": {
                      "id": {
                          "type": "string",
                          "title": "Id",
                          "default": "cough_suppress",
                          "format": "text",
                          "description": "ID of the effect",
                          "enum": [
                            "pkill1",
                            "pkill2",
                            "pkill3",
                            "high",
                            "weed_high",
                            "cough_suppress"
                          ],
                          "propertyOrder": 5
                      },
                      "duration": {
                          "type": "integer",
                          "title": "Duration",
                          "default": 100,
                          "description": "How long does the effect last.",
                          "propertyOrder": 30
                      }
                  }
              },
              "propertyOrder": 60
          },
          "player_descriptions": {
              "type": "array",
              "title": "Player descriptions",
              "description": "One of these strings will be shown when description_frequency is triggered.",
              "default": [ "You play a little tune on your flute." ],
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false
              },
              "items": {
                  "type": "string",
                  "id": "/properties/use_action/properties/id",
                  "default": "You play a little tune on your flute.",
                  "title": "Description",
                  "format": "text",
                  "options": { "compact": true }
              },
              "propertyOrder": 60
          }
      }
  },
  "use_action": {
      "title": "Use action",
      "id": "/definitions/use_action",
      "description": "Action performed when used",
      "anyOf": [
          {
              "type": "array",
              "title": "List format",
              "format": "selectize",
              "uniqueItems": true,
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false,
                  "multiple": true
              },
              "items": {
                  "oneOf": [
                      {
                          "type": "object",
                          "title": "Object format",
                          "includeDefinition": "use_action_object"
                      },
                      {
                          "type": "string",
                          "title": "String format",
                          "filteredEnum": {
                              "display_key": "id",
                              "filter": { "jsonObject.type": { "$eq": "item_action" } }
                          }
                      }
                  ]
              },
              "propertyOrder": 60
          },
          {
            "type": "object",
            "title": "Object format",
            "includeDefinition": "use_action_object"
          },
          {
              "type": "string",
              "id": "/definitions/use_action",
              "title": "String format",
              "default": "HOTPLATE",
              "format": "text",
              "options": {
                  "hidden": false
              }
          }
      ]
  },
  "max_charges": {
      "type": "integer",
      "id": "/definitions/max_charges",
      "title": "Max charges",
      "default": 100,
      "description": "Maximum charges tool can hold",
      "propertyOrder": 30
  },
  "charges_per_use": {
      "type": "integer",
      "id": "/definitions/charges_per_use",
      "title": "Charges per use",
      "default": 1,
      "description": "Charges consumed per tool use",
      "propertyOrder": 30
  },
  "ammo": {
      "title": "Ammo",
      "id": "/definitions/ammo",
      "type": "string",
      "default": "460",
      "format": "text",
      "description": "Ammo types accepted for reloading",
      "filteredEnum": {
          "display_key": "id",
          "filter": { "$and": [
              { "jsonObject.type": { "$eq": "ammunition_type" } },
              { "jsonObject.id": { "$exists": true } }
          ] }
      },
      "enum": ["water"]
  },
  "initial_charges": {
      "type": "integer",
      "id": "/definitions/initial_charges",
      "title": "Initial charges",
      "default": 25,
      "description": "Charges when spawned"
  },
  "snippet_category": {
      "id": "/definitions/snippet_category",
      "title": "Snippet_category",
      "description": "Any item with a \"snippet_category\" entry will have random descriptions, based on that snippet category",
      "anyOf": [
          {
              "type": "array",
              "format": "selectize",
              "title": "List format",
              "uniqueItems": true,
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false
              },
              "items": {
                  "type": "object",
                  "title": "Snippet",
                  "options": {
                      "disable_collapse": false,
                      "disable_edit_json": false,
                      "disable_properties": false,
                      "collapsed": false,
                      "hidden": false,
                      "compact": true
                  },
                  "defaultProperties": [
                      "id",
                      "text"
                  ],
                  "properties": {
                      "id": {
                          "type": "string",
                          "id": "/properties/use_action/properties/id",
                          "title": "ID",
                          "default": "unique_entry_here",
                          "format": "text",
                          "description": "An id to reference this specific snippet."
                      },
                      "text": {
                          "type": "string",
                          "id": "/properties/use_action/properties/id",
                          "title": "Text",
                          "default": "A soft, cushioned hairbrush.  The shiny chrome design appears modern.",
                          "format": "text",
                          "description": "Flavored text"
                      }
                  }
              }
          },
          {
              "type": "string",
              "id": "/properties/use_action/properties/id",
              "title": "Single entry",
              "default": "unique_entry_here",
              "format": "text",
              "filteredEnum": {
                  "display_key": "category",
                  "filter": { "jsonObject.type": { "$eq": "snippet" } }
              },
              "description": "The value of category must match the snippet_category in the item definition"
          }
      ],
      "propertyOrder": 60
  },
  "material_thickness": {
      "type": "integer",
      "id": "/properties/material_thickness",
      "title": "Material Thickness",
      "default": 1,
      "description": "The thickness of the material",
      "options": {
          "hidden": false
      },
      "propertyOrder": 160
  },
  "turns_per_charge": {
      "type": "integer",
      "id": "properties/turns_per_charge",
      "title": "Turns per charge",
      "default": 25,
      "description": "Charges consumed over time, deprecated in favor of power_draw",
      "options": {
          "hidden": false
      }
  },
  "seed_data": {
      "type": "object",
      "id": "/properties/seed_data",
      "title": "Seed data",
      "description": "Every item type can have optional seed data, if the item has seed data, it's considered a seed and can be planted",
      "options": {
          "disable_collapse": false,
          "disable_edit_json": false,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "defaultProperties": [
          "fruits",
          "seeds"
      ],
      "properties": {
          "fruit_div": {
              "type": "integer",
              "id": "/properties/seed_data/properties/fruit_div",
              "title": "Fruit div",
              "default": 2,
              "description": "(optional, default is 1). Final amount of fruit charges produced is divided by this number. Works only if fruit item is counted by charges.",
              "propertyOrder": 10
          },
          "seeds": {
              "type": "boolean",
              "id": "/properties/seed_data/properties/seeds",
              "title": "Seeds",
              "format": "checkbox",
              "default": true,
              "description": "(optional, default is true). If true, harvesting the plant will spawn seeds (the same type as the item used to plant). If false only the fruits are spawned, no seeds.",
              "options": {
                  "hidden": false
              }
          },
          "grow": {
              "type": "string",
              "id": "/properties/seed_data/properties/grow",
              "title": "Grow",
              "default": "91 days",
              "format": "text",
              "description": "A time duration: how long it takes for a plant to fully mature. Based around a 91 day season length (roughly a real world season) to give better accuracy for longer season lengths. Note that growing time is later converted based upon the season_length option, basing it around 91 is just for accuracy purposes. A value 91 means 3 full seasons, a value of 30 would mean 1 season.",
              "propertyOrder": 70
          },
          "byproducts": {
              "type": "array",
              "id": "/properties/seed_data/properties/byproducts",
              "title": "Byproducts",
              "description": "A list of further items that should spawn upon harvest.",
              "default": [ "withered", "straw_pile" ],
              "options": {
                  "disable_collapse": false,
                  "disable_array_add": false,
                  "disable_array_delete": false,
                  "disable_array_reorder": true,
                  "disable_properties": false,
                  "collapsed": false,
                  "hidden": false
              },
              "items": {
                  "type": "string",
                  "default": "withered",
                  "format": "text",
                  "options": {
                      "hidden": false,
                      "compact": true
                  }
              },
              "propertyOrder": 60
          },
          "fruit": {
              "type": "string",
              "id": "/properties/seed_data/properties/fruit",
              "title": "Fruit",
              "default": "weed",
              "format": "text",
              "description": "The item id of the fruits that this seed will produce.",
              "propertyOrder": 70
          },
          "plant_name": {
              "type": "string",
              "id": "/properties/seed_data/properties/plant_name",
              "title": "Plant name",
              "default": "cattail",
              "format": "text",
              "description": "The name of the plant that grows from this seed. This is only used as information displayed to the user.",
              "propertyOrder": 70
          }
      }
  },
  "coverage": {
      "type": "integer",
      "id": "/properties/coverage",
      "title": "Coverage",
      "default": 10,
      "description": "The amount of coverage",
      "options": {
          "hidden": false
      },
      "propertyOrder": 140
  },
  "encumbrance": {
      "type": "integer",
      "id": "/properties/encumbrance",
      "title": "Encumbrance",
      "default": 3,
      "description": "The amount of encumbrance",
      "options": {
          "hidden": false
      },
      "propertyOrder": 150
  },
  "range": {
      "type": "integer",
      "id": "/properties/range",
      "title": "Range",
      "default": 14,
      "description": "The range when fired",
      "options": {
          "hidden": false
      }
  },
  "environmental_protection": {
      "type": "integer",
      "id": "/properties/environmental_protection",
      "title": "Environmental Protection",
      "default": 1,
      "description": "The environmental protection",
      "options": {
          "hidden": false
      },
      "propertyOrder": 100
  },
  "qualities": {
      "type": "array",
      "id": "/properties/qualities",
      "title": "Qualities",
      "description": "The qualities this item provides",
      "format": "table",
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false
      },
      "items": {
          "type": "array",
          "id": "/properties/qualities/oneof0",
          "default": [ "CUT", 1 ],
          "title": "Quality",
          "format": "tabs",
          "options": {
              "disable_collapse": true,
              "disable_array_add": true,
              "disable_array_delete": true,
              "disable_array_reorder": true,
              "disable_properties": true,
              "collapsed": false,
              "compact": true,
              "hidden": false
          },
          "items": [
              {
                  "type": "string",
                  "id": "/properties/qualities/items/oneof0",
                  "default": "VISE",
                  "format": "text",
                  "filteredEnum": {
                      "display_key": "id",
                      "filter": { "jsonObject.type": { "$eq": "tool_quality" } }
                  },
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              },
              {
                  "type": "integer",
                  "id": "/properties/qualities/items/oneof1",
                  "default": 1,
                  "options": {
                    "hidden": false,
                    "compact": true
                  }
              }
          ]
      },
      "propertyOrder": 90
  },
  "warmth": {
      "type": "integer",
      "id": "/properties/warmth",
      "title": "Warmth",
      "default": 25,
      "description": "The warmth",
      "options": {
          "hidden": false
      },
      "propertyOrder": 180
  },
  "covers": {
      "type": "array",
      "id": "/definitions/covers",
      "title": "Covers",
      "format": "selectize",
      "uniqueItems": true,
      "options": {
          "disable_collapse": false,
          "disable_array_add": false,
          "disable_array_delete": false,
          "disable_array_reorder": true,
          "disable_properties": false,
          "collapsed": false,
          "hidden": false,
          "multiple": true
      },
      "items": {
          "type": "string",
          "enum": [ 
            "TORSO", 
            "ARMS", 
            "HANDS", 
            "HAND_R", 
            "LEGS", 
            "FEET", 
            "HEAD", 
            "EYES", 
            "MOUTH",
            "LEG_EITHER",
            "FOOT_EITHER",
            "HAND_EITHER"
          ]
      },
      "propertyOrder": 60
  },
  "body_parts_enum": { "enum": [ "HEAD", "TORSO", "MOUTH", "EYES", "ARM_L", "ARM_R", "HAND_R", "HAND_L", "LEG_L", "LEG_R", "FOOT_L", "FOOT_R" ] }
}